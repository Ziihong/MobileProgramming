# MobileProgramming
êµ­ë¯¼ëŒ€í•™êµ ëª¨ë°”ì¼í”„ë¡œê·¸ë˜ë° ê°œì¸ê³¼ì œì— ëŒ€í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. <br>
ì†Œí”„íŠ¸ì›¨ì–´í•™ë¶€ 20191572 ê¹€ì§€í™<br><br>

## ëª©ì°¨
<ul>
<li> 1.í”„ë¡œì íŠ¸ ì†Œê°œ
<ul>
  <li> 1.1 í”„ë¡œì íŠ¸ ê°œìš”
  <li> 1.2 í”„ë¡œì íŠ¸ ëŒ€ìƒ
  <li> 1.3 í”„ë¡œì íŠ¸ ê¸°ëŠ¥
  <li> 1.4 ê°œë°œ í™˜ê²½
</ul>
<li> 2. ì†ŒìŠ¤ íŒŒì¼
<ul>
  <li> 2.1 ì†ŒìŠ¤ íŒŒì¼ êµ¬ì„±
  <li> 2.2 ì†ŒìŠ¤ íŒŒì¼ ì„¤ëª…
</ul>
<li> 3. UI ë° ìŠ¤í¬ë¦°ìƒ·
<ul>
  <li> 3.1 UI ì„¤ê³„
  <li> 3.2 ìŠ¤í¬ë¦°ìƒ·
</ul>
<br><br>

## 1. í”„ë¡œì íŠ¸ ì†Œê°œ
### 1.1 í”„ë¡œì íŠ¸ ê°œìš”
ì‹¤ì œ ìƒí’ˆì„ êµ¬ë§¤í•˜ëŠ” ê²ƒê³¼ ê°™ì€ í˜ì´ì§€ë¥¼ ë§Œë“ ë‹¤. ìƒí’ˆ í˜ì´ì§€ì—ì„œ 2ê°œ ì´ìƒì˜ ìƒí’ˆì„ í™”ë©´ì— ì¶œë ¥í•œë‹¤.
ìƒí’ˆì„ ì„ íƒí•œ í›„ì—ëŠ” êµ¬ë§¤ í˜¹ì€ ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ì„ ì„ íƒí•˜ì—¬ ê° ì„ íƒì— ë§ëŠ” í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤. 
ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œëŠ” êµ¬ë§¤í•˜ë ¤ëŠ” ìƒí’ˆì„ ì„ íƒí•˜ì—¬ êµ¬ë§¤í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆë‹¤. êµ¬ë§¤ í˜ì´ì§€ì—ì„œëŠ”
ì‹¤ì œ êµ¬ë§¤ê°€ ì´ë£¨ì–´ì§€ëŠ” í˜ì´ì§€ë¡œì„œ, ê²°ì œí•  ê¸ˆì•¡ì„ ì¶œë ¥í•˜ê³  ì—°ë½ì²˜ì™€ ì£¼ì†Œë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤. ê²°ì œê°€ ì™„ë£Œëœ í›„ì—ëŠ”
ë‹¤ì‹œ ìƒí’ˆ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.<br>
### 1.2 í”„ë¡œì íŠ¸ ëŒ€ìƒ
ì´ í”„ë¡œì íŠ¸ì˜ ëŒ€ìƒì€ ê°€ë°©ì„ êµ¬ë§¤í•˜ë ¤ëŠ” ì†Œë¹„ìì´ë‹¤. ì›í•˜ëŠ” ì œí’ˆì„ ì„ íƒí•˜ì—¬ êµ¬ë§¤í•  ìˆ˜ ìˆë‹¤.
### 1.3 í”„ë¡œì íŠ¸ ê¸°ëŠ¥
êµ¬ë§¤í•˜ë ¤ëŠ” ì œí’ˆì´ í•˜ë‚˜ì¼ ë•ŒëŠ” ìƒí’ˆ í˜ì´ì§€ì—ì„œ ì›í•˜ëŠ” ì œí’ˆ ì„ íƒ í›„ êµ¬ë§¤ ë²„íŠ¼ì„ ëˆŒëŸ¬, ë°”ë¡œ êµ¬ë§¤ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆë‹¤. êµ¬ë§¤í•˜ë ¤ëŠ” ì œí’ˆì´ 2ê°œ ì´ìƒì¼ ê²½ìš°, ì›í•˜ëŠ” ì œí’ˆì„ ì°¨ë¡€ëŒ€ë¡œ ì¥ë°”êµ¬ë‹ˆì— ë‹´ì€ í›„ ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ 
### 1.4 ê°œë°œí™˜ê²½
Language: java <br>
IDE: Android Studio <br><br>

## 2. ì†ŒìŠ¤ íŒŒì¼
### 2.1 ì†ŒìŠ¤ íŒŒì¼ êµ¬ì„±
|íŒŒì¼ëª…|ê¸°ëŠ¥|
|:---:|:---:|
|MainActivity.java|ê¸°ë³¸ ì•¡í‹°ë¹„í‹°ë¡œì„œ, ìƒí’ˆ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ì•¡í‹°ë¹„í‹°|
|ShoppingCart.java|ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ì•¡í‹°ë¹„í‹° |
|Purchase.java|êµ¬ë§¤ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ì•¡í‹°ë¹„í‹°|
|Product.java|ìƒí’ˆ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ìƒí’ˆ í´ë˜ìŠ¤|
|CheckableLinearLayout.java|Checkable ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†í•˜ì—¬ ìƒˆë¡œ êµ¬ì„±í•œ LinearLayout í´ë˜ìŠ¤|
|ProductList.java|ìƒí’ˆ í˜ì´ì§€ì™€ êµ¬ë§¤ í˜ì´ì§€ì—ì„œ ìƒí’ˆ ë‚˜ì—´ì„ ìœ„í•œ adapter í´ë˜ìŠ¤|
|CheckProductList.java|ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ ìƒí’ˆ ë‚˜ì—´ì„ ìœ„í•œ adapter í´ë˜ìŠ¤|

### 2.2 ì†ŒìŠ¤ íŒŒì¼ ì„¤ëª…
#### -MainActivity.java

ê²°ì œí•  ë¦¬ìŠ¤íŠ¸ì™€ ì¥ë°”êµ¬ë‹ˆì— ë‹´ì„ ë¦¬ìŠ¤íŠ¸ë¥¼ staticì„ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•˜ì˜€ë‹¤.


    //ê²°ì œí•  ì œí’ˆ
    static ArrayList<Product> shoppingList = new ArrayList<>();
    //ì¥ë°”êµ¬ë‹ˆ ì œí’ˆ
    static ArrayList<Product> cartList = new ArrayList<>();

 adapterì„ ìƒì„±í•˜ê³  ìƒí’ˆì„ ë³´ì—¬ì£¼ëŠ” ListViewì— ì ìš©í•˜ì˜€ë‹¤. addItem ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ adapterì— ìƒí’ˆì„ ì¶”ê°€í•˜ì˜€ë‹¤. ì œí’ˆì´ í´ë¦­ë˜ì—ˆì„ ë•Œ í•´ë‹¹ ì œí’ˆì„ ì €ì¥í•˜ê³ , ì¥ë°”êµ¬ë‹ˆì™€ êµ¬ë§¤ ì¤‘ ì„ íƒí•˜ë¼ëŠ” ë©”ì„¸ì§€ê°€ ëœ¬ë‹¤.

        //adapter ìƒì„±. ListViewì™€ ArrayList ì‚¬ì´ì—ì„œ ì¤‘ê°„ ì—­í• 
        ProductList adapter = new ProductList();
        //ListViewì— í•´ë‹¹ adapterì ìš©
        listView.setAdapter(adapter);


        //addItemí•¨ìˆ˜ ì‚¬ìš©í•˜ì—¬ adapterì— í•­ëª© ì¶”ê°€
        adapter.addItem("ì¹¼í•˜íŠ¸\nD89 ë©”ì‹ ì €ë°± ë¸”ë™", "75,000ì›", ContextCompat.getDrawable(this, R.drawable.product1));
        adapter.addItem("ì»¤ë²„ë‚«\nCORDURA AUTHENTIC LOGO RUCK SACK ë¸”ë™", "74,000ì›", ContextCompat.getDrawable(this, R.drawable.product2));
        adapter.addItem("ìº‰ê³¨\nPoodle Bucket Bag ì•„ì´ë³´ë¦¬", "62,000ì›", ContextCompat.getDrawable(this,R.drawable.product3));


        //ListView ëˆŒë €ì„ ë•Œ
        listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){

            public void onItemClick(AdapterView<?> parent, View view, int idx, long id){
                //ì•ˆë‚´ ë¬¸êµ¬
                Toast toast = Toast.makeText(getApplicationContext(), "ì´ë™í•  í˜ì´ì§€ë¥¼ ì„ íƒí•˜ì„¸ìš”ğŸ˜€", Toast.LENGTH_LONG);
                toast.setGravity(Gravity.BOTTOM,0, 300);
                toast.show();

                //ë©”ë‰´ ë³´ì´ê²Œ ì„¤ì •
                menu.setVisibility(View.VISIBLE);
                //ì„ íƒí•œ ê°ì²´ ì €ì¥
                selectedItem = (Product)parent.getItemAtPosition(idx);

            }
        });

ì´ë•Œ, ì €ì¥í•œ ì œí’ˆì€ ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì¥ë°”êµ¬ë‹ˆ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ë˜ê³  êµ¬ë§¤í•˜ê¸° ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ êµ¬ë§¤ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ëœë‹¤.

                //ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ
                if(!cartList.contains(selectedItem)) cartList.add(selectedItem);
                
                
                //êµ¬ë§¤ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ
                shoppingList.add(selectedItem);




#### -ShoppingCart.java

adapterì„ ìƒì„±í•˜ê³  ì¥ë°”êµ¬ë‹ˆ ë¦¬ìŠ¤íŠ¸ì— ë‹´ê²¨ìˆëŠ” ê°ì²´ë“¤ì„, addItem ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ adapterì— ì¶”ê°€í•œë‹¤.

        //adapter ìƒì„±
        CheckProductList adapter = new CheckProductList();
        //ListViewì— í•´ë‹¹ adapter ì ìš©
        listView.setAdapter(adapter);


        //ì¥ë°”êµ¬ë‹ˆ ëª©ë¡ì— ìˆëŠ” ê°ì²´ë“¤ì„, addItem í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ adapterì— í•­ëª© ì¶”ê°€
        for(int i=0; i<MainActivity.cartList.size(); i++){
            Product p = (Product) MainActivity.cartList.get(i);
            adapter.addItem(p.getName(), p.getPrice(), p.getD());
        }
       
ListViewê°€ ëˆŒë ¸ì„ ë•Œ, ì²´í¬ëœ ì œí’ˆ ìˆ˜ë¥¼ ë°›ì•„ì˜¤ê³  ì„ íƒëœ ì œí’ˆì€ êµ¬ë§¤ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•œë‹¤. ì´ë•Œ, ì„ íƒëœ ì œí’ˆì´ 1ê°œ ì´ìƒì¼ ë•Œë§Œ êµ¬ë§¤ ë²„íŠ¼ì´ ë³´ì´ë„ë¡ ì„¤ì •í•œë‹¤.

        listView.setOnItemClickListener(new AdapterView.OnItemClickListener(){
            public void onItemClick(AdapterView<?> parent, View view, int idx, long id){

                //ì²´í¬ëœ ì œí’ˆì˜ ìˆ˜ ë°›ì•„ì˜¤ê¸°. =>êµ¬ë§¤í•  ì œí’ˆì˜ ìˆ˜
                itemCount = listView.getCheckedItemCount();

                //êµ¬ë§¤ ëª©ë¡ì— ì„ íƒëœ ê°ì²´ ì¶”ê°€
                Product selectedItem = (Product) parent.getItemAtPosition(idx);
                if(!MainActivity.shoppingList.contains(selectedItem)) MainActivity.shoppingList.add(selectedItem);
                else MainActivity.shoppingList.remove(selectedItem);


                //ì„ íƒëœ ì œí’ˆì´ 1ê°œ ì´ìƒì¼ ë•Œë§Œ, êµ¬ë§¤ ë²„íŠ¼ì´ ë³´ì´ë„ë¡ ì„¤ì •
                if(itemCount > 0){
                    purchaseButton.setVisibility(View.VISIBLE);
                }
                //ì„ íƒëœ ì œí’ˆì´ 0ê°œì¼ ë•Œ, êµ¬ë§¤ ë²„íŠ¼ì´ ë³´ì´ì§€ ì•Šë„ë¡ ì„¤ì •
                else{
                    purchaseButton.setVisibility(View.INVISIBLE);
                }
            }
        });

#### -Purchase.java

adapterì„ ìƒì„±í•˜ê³  êµ¬ë§¤ ë¦¬ìŠ¤íŠ¸ì— ë‹´ê²¨ ìˆëŠ” ê°ì²´ë“¤ì„, addItem ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ adaperì— ì¶”ê°€í•œë‹¤. ì´ë•Œ, ì´ ê²°ì œ ê¸ˆì•¡ì„ ê³„ì‚°í•˜ê¸° ìœ„í•´ êµ¬ë§¤ ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ì œí’ˆì˜ ê°’ì„ ë”í•´ì¤€ë‹¤.

        //adapter ìƒì„±
        ProductList adapter = new ProductList();
        //ListViewì— í•´ë‹¹ adapter ì ìš©
        listView.setAdapter(adapter);


        //êµ¬ë§¤ ëª©ë¡ì— ìˆëŠ” ê°ì²´ë“¤ì„, addItemí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ adapterì— ì¶”ê°€
        for(int i=0; i<MainActivity.shoppingList.size(); i++){
            Product p = MainActivity.shoppingList.get(i);
            adapter.addItem(p.getName(), p.getPrice(), p.getD());

            //ê¸ˆì•¡ ê³„ì‚°
            int pr = 0;
            if(p.getPrice().equals("75,000ì›")) pr=75000;
            else if(p.getPrice().equals("74,000ì›")) pr=74000;
            else if(p.getPrice().equals("62,000ì›")) pr=62000;
            totalPrice += pr;
        }

ìµœì¢… ì£¼ë¬¸ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, ìƒí’ˆ í˜ì´ì§€ì¸ MainActivity.classë¡œ ì´ë™í•˜ë„ë¡ í•œë‹¤. êµ¬ë§¤í•œ ì œí’ˆë“¤ì€ ì¥ë°”êµ¬ë‹ˆ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚­ì œí•˜ê³  êµ¬ë§¤ ë¦¬ìŠ¤íŠ¸ëŠ” ì´ˆê¸°í™”í•œë‹¤.

                    //êµ¬ë§¤ ì™„ë£Œ. Intent ì‚¬ìš©í•˜ì—¬ MainActivity.classë¡œ ì´ë™
                    Intent intent = new Intent(getApplicationContext(), MainActivity.class);
                    startActivity(intent);

                    //êµ¬ë§¤í•œ ì œí’ˆë“¤ì€ ì¥ë°”êµ¬ë‹ˆ ëª©ë¡ì—ì„œ ì‚­ì œ
                    for(int i=0; i<MainActivity.shoppingList.size(); i++){
                        Product p = MainActivity.shoppingList.get(i);
                        for(int j=0; j<MainActivity.cartList.size(); j++){
                            if(MainActivity.cartList.get(j).getName().equals(p.getName())){
                                MainActivity.cartList.remove(MainActivity.cartList.get(j));
                            }
                        }
                    }

                    //êµ¬ë§¤ë¥¼ ì™„ë£Œí•˜ì˜€ìœ¼ë¯€ë¡œ, êµ¬ë§¤ ëª©ë¡ ì´ˆê¸°í™”
                    MainActivity.shoppingList.clear();
                }
#### -Product.java
ì œí’ˆ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” í´ë˜ìŠ¤ì´ë‹¤. getë©”ì†Œë“œì™€ setë©”ì†Œë“¤ ì´ìš©í•˜ì—¬ ì œí’ˆì˜ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ì˜€ë‹¤.

    public void setName(String name){
        this.name = name;
    }
    public void setPrice(String price){
        this.price = price;
    }
    public void setD(Drawable d){
        this.d = d;
    }

    public String getName(){
        return name;
    }
    public String getPrice(){
        return price;
    }
    public Drawable getD(){
        return d;
    }
}

#### -CheckableLinearLayout.java
Checkable ì¸í„°í˜ì´ìŠ¤ì™€ LinearLayout í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ì•„ ì¬êµ¬ì„±í•˜ì˜€ë‹¤.

    public CheckableLinearLayout(Context context, AttributeSet attrs){
        super(context, attrs);
    }
    //checkable ì¸í„°í˜ì´ìŠ¤ abstractí•¨ìˆ˜ overrideí•´ì•¼í•¨

    public boolean isChecked(){ //í˜„ì¬ checked ìƒíƒœ í™•ì¸
        CheckBox checkBox = findViewById(R.id.checkbox);
        return checkBox.isChecked();
    }

    public void toggle(){ //í˜„ì¬ checked ìƒíƒœ ë³€ê²½
        CheckBox checkBox = findViewById(R.id.checkbox);
        setChecked(!checkBox.isChecked());
    }

    public void setChecked(boolean checked){ //checked ìƒíƒœë¥¼ checked ë³€ìˆ˜ëŒ€ë¡œ ì„¤ì •
        CheckBox checkBox = findViewById(R.id.checkbox);
        if(checkBox.isChecked() != checked){
            checkBox.setChecked(checked);
        }
    }
#### -ProductList.java

ì œí’ˆì„ ë‹´ì„ ë¦¬ìŠ¤íŠ¸ë¥¼ ArrayListí´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•œë‹¤.

    ArrayList<Product> products = new ArrayList<>();
  
ì¼ë¶€ ë·°ë¥¼ ê°ì²´í™” í•˜ê¸° ìœ„í•´ LayoutInflater.inflate ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤. ì›í•˜ëŠ” viewGroupì— ì§ì ‘ ì‘ì„±í•œ product_layout.xmlì„ ì ìš©ì‹œí‚¨ë‹¤. 

    public View getView(int idx, View view, ViewGroup viewGroup) {
        Context context = viewGroup.getContext();
        if(view == null){
            LayoutInflater li = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            view = li.inflate(R.layout.product_layout, viewGroup, false); // false->rootì— ë¶™ì¼ê²ƒì¸ì§€
        }
      
        ''''''
        return view;
    }
 addItem ë©”ì†Œë“œë¥¼ ì •ì˜í•˜ì—¬ adapterì— ê°ì²´ ì¶”ê°€ë¥¼ ìš©ì´í•˜ë„ë¡í•œë‹¤.
 
     public void addItem(String name, String price, Drawable d){
        Product p = new Product();
        p.setName(name);
        p.setPrice(price);
        p.setD(d);

        products.add(p);
    }
    
#### -CheckableProductList.java
ì œí’ˆì„ ë‹´ì„ ë¦¬ìŠ¤íŠ¸ë¥¼ ArrayListí´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•œë‹¤.

    ArrayList<Product> checkItemList = new ArrayList<>();

ì¼ë¶€ ë·°ë¥¼ ê°ì²´í™” í•˜ê¸° ìœ„í•´ LayoutInflater.inflate ë©”ì†Œë“œë¥¼ ì‚¬ìš©ìš©í•œë‹¤. ì›í•˜ëŠ” viewGroupì— ì§ì ‘ ì‘ì„±í•œ productlist_layout.xmlì„ ì ìš©ì‹œí‚¨ë‹¤. 

    public View getView(int idx, View view, ViewGroup parent){
        Context context = parent.getContext();

        if(view == null){
            LayoutInflater inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            view = inflater.inflate(R.layout.productlist_layout, parent, false);
        }
        
 addItem ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ adapterì— ê°ì²´ ì¶”ê°€ë¥¼ ìš©ì´í•˜ë„ë¡ í•œë‹¤.
 
     public void addItem(String name, String price, Drawable d){
        Product p = new Product();
        p.setName(name);
        p.setPrice(price);
        p.setD(d);

        checkItemList.add(p);
    }
 
## 3. UI ë° ìŠ¤í¬ë¦°ìƒ·
### 3.1 UI ì„¤ê³„
### 3.2 ìŠ¤í¬ë¦°ìƒ·
